{"version":3,"sources":["components/PersonForm.js","components/Persons.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","newName","newNumber","handleType","handleNumber","addPerson","onSubmit","value","onChange","type","Persons","person","handleDelete","filter","key","name","number","onClick","Filter","handleFilter","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Notification","message","success","className","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","errorMessage","setErrorMessage","successStatus","setSuccessStatus","useEffect","numbers","event","target","preventDefault","personObject","found","forEach","returnPersons","map","catch","error","setTimeout","console","log","concat","per","toLowerCase","includes","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8b0f8671.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = ({ newName, newNumber, handleType, handleNumber, addPerson }) => {\r\n    return (\r\n    <form onSubmit={addPerson}>\r\n        <div>\r\n          name: <input \r\n            value={newName}\r\n            onChange={handleType}/>\r\n        </div>\r\n        <div>\r\n          number: <input\r\n            value={newNumber}\r\n            onChange={handleNumber}/>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\n\r\nconst Persons = ({person, filter, handleDelete}) => {\r\n    return(\r\n    <li key={person.name}>{person.name} {person.number}\r\n          <button onClick={handleDelete}>Delete</button></li>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\n\r\nconst Filter = ({ filter, handleFilter }) => {\r\n    return (\r\n    <input value={filter}\r\n            onChange={handleFilter}/>\r\n    )\r\n}\r\n\r\nexport default Filter","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => {\r\n    return response.data\r\n  })\r\n}\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deleteId = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { \r\n  getAll, \r\n  create, \r\n  update, \r\n  deleteId \r\n}","import React from 'react'\r\n\r\nconst Notification = ({ message, success }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    else if (success === true) { return (\r\n        <div className=\"success\">\r\n            {message}\r\n        </div>\r\n    )}\r\n\r\n\r\n    else {return (\r\n        <div className=\"error\">\r\n          {message}\r\n        </div>\r\n    )}\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Filter from './components/Filter'\r\nimport numbers from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([\r\n\r\n  ]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber] = useState('')\r\n  const [ filter, setFilter ] = useState('')\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n  const [successStatus, setSuccessStatus] = useState(true)\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    }\r\n    let found = false\r\n    persons.forEach(person => {\r\n      if (person.name === newName) {\r\n        found = true\r\n        if (newNumber !== '') {\r\n          numbers.update(person.id, personObject)\r\n          .then(returnPersons => {\r\n            setPersons(persons.map(person => person.name !== personObject.name ? person : returnPersons ))\r\n          }).catch(error => {\r\n            setSuccessStatus(false)\r\n            setErrorMessage(`Person '${person.name}' was already removed`)\r\n            setTimeout(() => {\r\n              setErrorMessage(null)\r\n            }, 5000)\r\n            setPersons(persons.filter(person => person.name !== newName))\r\n          })\r\n          setSuccessStatus(true)\r\n          setErrorMessage(`Person '${person.name}' number changed successfully to '${personObject.number}'`)\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 5000)\r\n          return null\r\n        }\r\n          setErrorMessage(`Person '${person.name}' is already added`)\r\n          setSuccessStatus(false)\r\n          setTimeout(()=> {\r\n            setErrorMessage(null)\r\n          }, 5000)\r\n      }\r\n    })\r\n    if(found === false) {\r\n          console.log('pistetään')\r\n           setPersons(persons.concat(personObject))\r\n          numbers.create(personObject)\r\n          setSuccessStatus(true)\r\n          setErrorMessage(`Person '${personObject.name}' added`)\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 5000)\r\n          setNewName('')\r\n          setNewNumber('')\r\n        }\r\n  }\r\n\r\n  const handleDelete = (id) => {\r\n    numbers.deleteId(id)\r\n    numbers.getAll().then(response => {\r\n      setPersons(persons.filter(person => person.id !== id))\r\n    })\r\n    setSuccessStatus(true)\r\n    setErrorMessage(`Successfully removed`)\r\n    setTimeout(() => {\r\n      setErrorMessage(null)\r\n    }, 5000)\r\n  }\r\n\r\n  const hook = () => {\r\n    numbers.getAll().then(response => setPersons(response))\r\n  }\r\n\r\n  useEffect(hook, [])\r\n\r\n  const handleType = (event) => setNewName(event.target.value)\r\n\r\n  const handleNumber = (event) => setNewNumber(event.target.value)\r\n\r\n  const handleFilter = (event) => setFilter(event.target.value)\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Notification message={errorMessage} success={successStatus} />\r\n      <h2>Phonebook</h2>    \r\n      filter: <Filter filter={filter} handleFilter={handleFilter} />\r\n      <PersonForm newName={newName} newNumber={newNumber} handleType={handleType} handleNumber={handleNumber} addPerson={addPerson}/>\r\n      <h2>Numbers</h2>\r\n      <ul>\r\n        {persons.filter(per => per.name.toLowerCase().includes(filter.toLowerCase())).map(person => \r\n        <Persons key={person.name} person={person} handleDelete={()=> handleDelete(person.id)}/>)\r\n      }\r\n      </ul>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}